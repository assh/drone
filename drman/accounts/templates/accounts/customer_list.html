{% extends 'accounts/main.html' %}
{% load static %}
{% block content %}

<div class="container-fluid">
    <div class="row">
        <div class="col">
            <h5 class="text-center display-4">Customer Information</h5>
            <hr>
            <div class="card card-body">
                <a class="btn btn-info  btn-sm btn-block" href="{% url 'create-customer' %}" id="btnlaunch">Add Customer</a>
                <br>
                <table class="table" id="table_id">
                    <thead style="text-align:left" id="btnlaunch">
                        <tr>
                            <th scope="col">Customer ID</th>
                            <th scope="col">Name</th>
                            <th scope="col">System Access</th>
                            <th scope="col">Status</th>
                            <th scope="col">Company</th>
                            <th scope="col">Address</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                        {% for i in customers %}
                        <tr>
                            <td align="left"><a href="{% url 'customer' i.id %}">{{i.customer_id}}</a></td>
                            <td align="left">{{i.first_name}} {{i.last_name}}</td>
                            <td align="left">{{i.sys_access}}</td>
                            {% if i.status == 'a' %}
                            <td align="left">Active</td>
                            {% endif%}
                            {% if i.status == 'i' %}
                            <td align="left">Inactive</td>
                            {% endif%}
                            {% if i.status == 'r' %}
                            <td align="left">Registered</td>
                            {% endif%}
                            <td align="left">{{i.company_name}}</td>
                            <td align="left">{{i.city}}, {{i.country}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
    
    
            </div>
        </div>
    </div>
{% endblock %}

{% block js %}

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-colvis-1.6.2/b-html5-1.6.2/b-print-1.6.2/fh-3.1.7/kt-2.5.2/r-2.2.5/rg-1.1.2/sp-1.1.1/sl-1.3.1/datatables.min.css"/>
 
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-colvis-1.6.2/b-html5-1.6.2/b-print-1.6.2/fh-3.1.7/kt-2.5.2/r-2.2.5/rg-1.1.2/sp-1.1.1/sl-1.3.1/datatables.min.js"></script>
<script>
  $(document).ready( function () {
    $('#table_id').DataTable({

      buttons:{
        name:'primary',
        buttons:['copy','csv','excel','pdf']
      }
    }


    );
    table.buttons().container()
        .appendTo( '#example_wrapper .col-md-6:eq(0)' );
} );
</script>

{% endblock %}
